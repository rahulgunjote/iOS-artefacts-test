name: File Upload Download Workflow

on:
  push:
    branches:
      - main
  workflow_dispatch:

jobs:
  upload_file_1:
    runs-on: macos-latest
    steps:
    - name: Checkout repository
      uses: actions/checkout@v4
      
    - name: Create sample file 1
      run: echo "This is file 1 content" > file1.txt
      
    - name: Upload file 1
      uses: actions/upload-artifact@v3
      with:
        name: file1-artifact
        path: file1.txt

  upload_file_2:
    runs-on: macos-latest
    steps:
    - name: Checkout repository
      uses: actions/checkout@v4
      
    - name: Create sample file 2
      run: echo "This is file 2 content" > file2.txt
      
    - name: Upload file 2
      uses: actions/upload-artifact@v3
      with:
        name: file2-artifact
        path: file2.txt

  download_files:
    needs: [upload_file_1, upload_file_2]
    runs-on: macos-latest
    steps:
    - name: Download file 1
      uses: actions/download-artifact@v3
      with:
        name: file1-artifact
        
    - name: Download file 2
      uses: actions/download-artifact@v3
      with:
        name: file2-artifact
        
    - name: Display file contents
      run: |
        echo "File 1 content:"
        cat file1.txt
        echo "File 2 content:"
        cat file2.txt
